{"version":3,"sources":["webpack:///./src/views/Classify.vue?1e7e","webpack:///./src/views/Classify.vue?fa3b","webpack:///src/views/Classify.vue","webpack:///./src/views/Classify.vue?a8b5","webpack:///./src/views/Classify.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","toback","staticClass","_l","item","index","key","class","active","isActive","$event","toggleCl","_v","_s","title","getclassDetail","name","it","i","staticRenderFns","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-ca5e2c9e.de726225.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classify.vue?vue&type=style&index=0&id=2ddde583&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classify.vue?vue&type=style&index=0&id=2ddde583&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"分类\",\"left-text\":\"返回\",\"fixed\":true},on:{\"click-left\":_vm.toback}}),_c('div',{staticClass:\"box-class clearfix\"},_vm._l((_vm.titleData),function(item,index){return _c('div',{key:index,staticClass:\"class-one fl\",class:{active:item.isActive},on:{\"click\":function($event){return _vm.toggleCl(index)}}},[_vm._v(_vm._s(item.title))])}),0),_c('div',{staticClass:\"last-list clearfix\"},_vm._l((_vm.lastData),function(item,index){return _c('div',{key:index,staticClass:\"list-one clearfix fl\",on:{\"click\":function($event){return _vm.getclassDetail(item)}}},[_c('div',{staticClass:\"one-left fl\"},[_vm._v(_vm._s(item.name))]),_vm._l((item.bookCover),function(it,i){return _c('div',{key:i,staticClass:\"one-right fr\"},[_c('img',{staticClass:\"auto-img fl\",attrs:{\"src\":it,\"alt\":\"\"}})])})],2)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n            <van-nav-bar\r\n            title=\"分类\"\r\n            left-text=\"返回\" \r\n            @click-left=\"toback\"\r\n            :fixed=\"true\"\r\n            />\r\n            <div class=\"box-class clearfix\">\r\n                <div class=\"class-one fl\" v-for=\"(item,index) in titleData\" :key=\"index\" :class=\"{active:item.isActive}\" @click=\"toggleCl(index)\">{{item.title}}</div>\r\n                \r\n            </div>\r\n            <div class=\"last-list clearfix\">\r\n                <div class=\"list-one clearfix fl\" v-for=\"(item,index) in lastData\" :key=\"index\" @click=\"getclassDetail(item)\">\r\n                    <div class=\"one-left fl\">{{item.name}}</div>\r\n                    <div class=\"one-right fr\" v-for=\"(it,i) in item.bookCover\" :key=\"i\">\r\n                        <img :src=\"it\" alt=\"\" class=\"auto-img fl\">\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data(){\r\n            return{\r\n                titleData:[\r\n                   \r\n                    {\r\n                        title:\"女生\",\r\n                        isActive:false\r\n                    },\r\n                     {\r\n                        title:\"男生\",\r\n                        isActive:true\r\n                    },\r\n                    {\r\n                        title:\"类型\",\r\n                        isActive:false\r\n                    },\r\n                    {\r\n                        title:\"学习\",\r\n                        isActive:false\r\n                    },\r\n                ],\r\n                classifyData:[],\r\n                lastData:[]\r\n            }\r\n            \r\n        },\r\n        created(){\r\n            this.getMybook()\r\n            \r\n        },\r\n        methods:{\r\n            toggleCl(index){\r\n                for(let i = 0 ; i < this.titleData.length ; i ++){\r\n                    this.titleData[i].isActive = false ;\r\n                }\r\n                this.titleData[index].isActive = true\r\n                this.allData(index)\r\n            },\r\n            toback(){\r\n                this.$router.go(-1)\r\n            },\r\n            getMybook(){\r\n                this.$toast.loading({\r\n                        message: \"加载中...\",\r\n                        forbidClick: true,\r\n                        duration: 0\r\n                    });\r\n                    this.axios({\r\n                        method: \"GET\",\r\n                        url: \"/categories\",\r\n                        params: {\r\n                            \r\n                        }\r\n                    }).then(result => {\r\n                        this.$toast.clear(); \r\n                        \r\n\r\n                        for(var i in result.data){\r\n                            \r\n                            let arr = result.data[i]\r\n                            for( let k = 0 ; k < arr.length ; k ++ ){\r\n                            \r\n                                for(let j = 0 ; j < arr[k].bookCover.length ; j ++){\r\n                                    arr[k].bookCover[j] = this.imgKey(arr[k].bookCover[j])\r\n                                }\r\n                            }\r\n                        }\r\n                        \r\n\r\n                        this.classifyData = result.data\r\n                        \r\n                        let num = null;\r\n                        for(let i = 0 ; i < this.titleData.length ; i++){\r\n                            if(this.titleData[i].isActive){\r\n                                num = i\r\n                                break;\r\n                            }\r\n                        }\r\n                        this.allData(num)\r\n                    })\r\n                    .catch(err => {\r\n                        this.$toast.clear();\r\n                        \r\n                    });\r\n            },\r\n            imgKey(value) {\r\n                return unescape(value).slice(7);\r\n            },\r\n            allData(index){\r\n                switch(index){\r\n                    case 0 :\r\n                        this.lastData = this.classifyData.female;\r\n                        break;\r\n                    case 1 :\r\n                        this.lastData = this.classifyData.male;\r\n                        break;\r\n                    case 2 :\r\n                        this.lastData = this.classifyData.picture;\r\n                        break;\r\n                    case 3 :\r\n                        this.lastData = this.classifyData.press;\r\n                        break;\r\n                }\r\n                \r\n            },\r\n            getclassDetail(item){\r\n                this.$toast.loading({\r\n                        message: \"加载中...\",\r\n                        forbidClick: true,\r\n                        duration: 0\r\n                    });\r\n                    this.axios({\r\n                        method: \"GET\",\r\n                        url: \"/rank-category\",\r\n                        params: {\r\n                            gender:\"male\",\r\n                            type:\"hot\", \r\n                            major:item.name,\r\n                            minor:item.name,\r\n                            start:0, \r\n                            limit:20\r\n                        }\r\n                    }).then(result => {\r\n                        this.$toast.clear(); \r\n                        \r\n                    })\r\n                    .catch(err => {\r\n                        this.$toast.clear();\r\n                        \r\n                    });\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/.van-nav-bar__title{\r\n    font-weight: 700;\r\n    color: #78797a;\r\n}\r\n/deep/.van-nav-bar__text{\r\n    color: #575759;\r\n}\r\n.box-class{\r\n    margin-top: 46px;\r\n    background-color: #fff;\r\n    padding-bottom: 20px;\r\n    padding-top: 10px;\r\n    .class-one{\r\n        \r\n        // font-size: 14px;\r\n        font-weight:700;\r\n        margin-left: 34px;\r\n        margin-right:34px ;\r\n        padding:15px 0;\r\n        color: #78797a;\r\n        &.active{\r\n            border-bottom: 3px solid #1cc993;\r\n            color:#1cc993 ;\r\n        }\r\n    }\r\n}\r\n.last-list{\r\n    width: 90%;\r\n    margin: 10px auto;\r\n    .list-one{\r\n        background-color: #fff;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        margin: 7px;\r\n        \r\n    }\r\n    .one-left{\r\n        margin-left: 10px;\r\n        margin-top:20px;\r\n        font-size: 14px;\r\n        font-weight: 700;\r\n        color: #737574;\r\n        width: 20px;\r\n    }\r\n    .one-right{\r\n        width: 80px;\r\n        margin-top: 20px;\r\n        border-radius: 10px;\r\n        overflow: hidden;\r\n        margin-left: 8px;\r\n        margin-right: 8px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classify.vue?vue&type=template&id=2ddde583&scoped=true&\"\nimport script from \"./Classify.vue?vue&type=script&lang=js&\"\nexport * from \"./Classify.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Classify.vue?vue&type=style&index=0&id=2ddde583&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ddde583\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}